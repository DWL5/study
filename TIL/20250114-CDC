# TIL: Change Data Capture (CDC)

## 📌 CDC란?
CDC(Change Data Capture)는 데이터베이스에서 발생하는 데이터 변경 사항(삽입, 수정, 삭제 등)을 추적하여 이를 다른 시스템으로 전달하는 기술입니다. 데이터 동기화, 실시간 데이터 처리, ETL(추출, 변환, 적재) 작업 등에 널리 사용됩니다.

---

## 💡 주요 특징
- **실시간 데이터 동기화**: 변경된 데이터를 즉시 캡처하여 전송.
- **효율성**: 전체 데이터를 반복적으로 스캔하지 않고, 변경된 데이터만 처리.
- **비용 절감**: 데이터 통합 과정에서 필요 이상의 리소스를 사용하지 않음.
- **비침해성**: 원본 데이터베이스 성능에 영향을 최소화.

---

## 🛠 사용 사례
1. **데이터 웨어하우스 동기화**  
   OLTP(온라인 트랜잭션 처리) 데이터베이스에서 데이터 웨어하우스로 변경 사항을 실시간 반영.

2. **이벤트 기반 아키텍처**  
   데이터 변경 이벤트를 캡처하여 메시지 큐(Kafka, RabbitMQ 등)를 통해 전달.

3. **백업 및 복제**  
   데이터베이스 변경 사항을 백업 시스템이나 복제 데이터베이스로 동기화.

4. **실시간 분석**  
   실시간 변경 데이터를 활용하여 대시보드 업데이트나 알림 시스템을 운영.

---

## ⚙️ 구현 방법
1. **데이터베이스 트리거 사용**  
   특정 테이블에서 변경이 발생하면 트리거로 이를 기록.

2. **로그 기반 CDC**  
   데이터베이스의 트랜잭션 로그를 읽어 변경 사항을 추출.  
   (예: MySQL Binary Log, PostgreSQL Write-Ahead Log)

3. **테이블 비교**  
   기존 데이터와 새로운 데이터를 비교하여 변경 사항을 식별.

---

## 🔧 도구 및 프레임워크
- **Debezium**: 오픈 소스 CDC 플랫폼. Kafka와 함께 많이 사용.
- **AWS DMS (Data Migration Service)**: 실시간 데이터베이스 복제를 지원.
- **Talend**: CDC를 지원하는 데이터 통합 도구.
- **Oracle GoldenGate**: Oracle의 상용 CDC 솔루션.

---

## 🌟 장점
- 실시간 데이터 처리 가능.
- 반복 작업을 줄여 시스템 효율성 향상.
- 이벤트 기반 시스템 구축을 지원.

---

## 🚧 단점 및 과제
- 데이터베이스 및 도구에 따라 구현이 복잡할 수 있음.
- 소스 데이터베이스의 스키마 변경 관리 필요.
- 분산 시스템에서 데이터 일관성 유지가 어려움.

---

## 🗓 오늘의 핵심 정리
CDC는 시스템 간 데이터 변경 사항을 실시간으로 동기화하는 강력한 기술입니다. 데이터베이스와 도구에 따라 구현 방식이 달라지지만, Debezium이나 AWS DMS 같은 도구를 활용하면 쉽게 도입할 수 있습니다.
