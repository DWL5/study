## Kafaka
- LinkedIn에서 개발하고 현재는 Apache Software Foundation이 관리하는 분산 메시징 플랫폼
- 실시간 데이터 스트리밍, 로그 수집, 이벤트 중심 아키텍처를 구현하는데 많이 사용

### Kafka의 주요 개념
- Producer
  - 데이터를 Kafka로 전송하는 클라이언트.
- Consumer
  - Kafka에서 데이터를 읽는 클라리언트
- Topic
  - 메시지가 저장되는 카테고리
  - Producer는 특정 topic에 메시지를 전송하고 Consumer는 해당 Topic에서 메시지를 읽는다.
  - Partition
    - 각 Topic은 여러 Partition으로 나뉘며, Partition 단위로 데이터를 병렬로 처리할 수 있어 확장성이 뛰어남.
- Broker
  - Kafka 클러스터를 구성하는 서버
  - 각 Broker는 특정 Partition을 관리

### Kafka의 특징
- 분산처리
  - kafka는 데이터 Partition 단위로 분산 처리하며, 대규모 데이터를 효율적으로 처리 가능
- 높은 처리량
  - 디스크에 데이터를 순차적으로 기록하고 네트워크 요청을 배치 처리하여 높은 처리량을 제공
- 내구성
  - 데이터를 디스크에 저장하며 복제를 통해 데이터를 안전하게 보호
- 실시간 데이터 처리
  - 실시간으로 데이터를 처리할 수 있어, 스트리밍 데이터 파이프라인 구축에 적합
- 유연성
  - 다양한 언어의 클라이언트 라이브러리를 제공하며, Producer-Consumer모델을 사용하여 애플리케이션 간 통합이 쉬움

### Kafka 사용 시나리오 - 주문
- 프로듀서(Producer) : 데이터를 생성하고 Kafka로 보내는 역할
  - 사용자가 쇼핑몰에서 상품을 주문하면, 주문 애플리케이션이 주문 데이터를 생성.
  - 이 주문 데이터를 kafka로 전송하는 것이 프로듀서의 역할
  - 주요 동작
    - 주문 데이터를 OrderTopic이라는 토픽에 전송.
    - 여러 주문이 발생하면 이 데이터를 순차적으로 Kafka로 보냄
- 토픽 (Topic) : 데이터를 저장하는 논리적인 카테고리
  - 시나리오 : Kafka의 OrderTopic은 주문 데이터를 저장하는 역할
  - 주요 동작
    - 프로듀서가 보낸 주문 데이터는 OrderTopic에 저장됨
    - 예 : `orderId : 1234, productName "노트북", quantity : 1`과 같은 메시지가 OrderTopic에 저장. 
  - 추가 : 토픽은 여러 `파티션 (Partition)`으로 나뉘어 데이터를 병렬로 처리할 수 있다. 예를 들어 100개의 주문 데이터가 3개의 파티션에 분산 저장될 수 있다.
- 브로커(Broker): Kafka 클러스터의 서버, 데이터를 저장하고 관리
  - 시나리오 : Kafka 클러스터에는 여러 브로커가 있다.
    - 브로커 1: OrderTopic 파티션 0 저장.
    - 브로커 2 : OrderTopic 파티션 1 저장.
    - 브로커 3 : OrderTopic 파티션 2 저장.
  주요 동작
    - Kafka 브로커는 토픽 데이터를 실제로 저장하고 클라이언트(Producer/Consumer)의 요청을 처리합니다.
    - 브로커가 많을수록 시스템의 확장성과 안정성이 높아집니다.
- 컨슈머(Consumer): kafka에서 데이터를 읽어오는 역할
  - 시나리오: OrderTopic의 데이터를 읽어서 각각 다른 서비스 실행
    - 재고 관리 서비스 : OrderTopic에서 데이터를 읽어 재고 차감
    - 결제 처리 서비스 : orderTopic에서 데이터를 읽어 결제 처리
  - 주요 동작
    - 컨슈머는 Kafka에서 데이터 메시지를 가져오고, 이를 기반으로 작업을 수행
    - 컨슈머 그룹을 구성하면 파티션 데이터를 병렬로 처리할 수 있다.

  
