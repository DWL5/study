
# CPU는 프로그램을 어떻게 실행할까?

---

## 1. 컴퓨터에서 프로그램이 실행된다는 것은?

- 우리가 작성한 **프로그램(C, Python 등)**은 결국 기계가 이해할 수 있는 **기계어(Binary, 이진수)**로 변환됩니다.
- 이 변환된 명령어들은 **RAM(메모리)**에 저장됩니다.
- CPU는 이 명령어를 한 줄씩 읽고, 해석하고, 실행합니다.

---

## 2. CPU의 역할: F-D-E 사이클

CPU는 기본적으로 아래 **3단계**로 프로그램을 실행합니다. 이를 **명령어 사이클(Instruction Cycle)**이라고 하며, 줄여서 **F-D-E 사이클**이라고도 합니다.

### 1단계: Fetch (가져오기)
- **PC(Program Counter)**가 가리키는 메모리 주소에서 **명령어를 읽음**.
- 읽은 명령어는 **IR(Instruction Register)**에 저장됩니다.

### 2단계: Decode (해석하기)
- IR에 저장된 명령어를 CPU가 해석합니다.
- 이 명령어가 무엇을 하라는 것인지 파악합니다 (예: 덧셈, 이동, 비교 등).

### 3단계: Execute (실행하기)
- 명령어에 따라 실제 연산을 수행합니다.
  - 숫자를 더한다면 ALU를 통해 연산
  - 메모리에서 값을 가져온다면 RAM 접근
  - 조건에 따라 점프(Jump)도 가능

---

## 🔁 3. 전체 흐름 요약 그림 (텍스트 버전)

```
[RAM - 메모리]
└─ 주소 0x0000 : 명령어 1 (ex. LOAD R1, 1000)
└─ 주소 0x0004 : 명령어 2 (ex. ADD R2, R1, R3)
└─ ...

     ↑  (PC가 가리키는 주소)
     │
[ CPU ]
├─ PC: 다음 명령어 주소
├─ IR: 읽어온 명령어 저장
├─ 레지스터들: R1, R2, ...
└─ ALU: 연산 담당 유닛

→ PC가 RAM에서 명령어 Fetch → IR → Decode & Execute
```

---

## 4. 주요 용어 정리 표

| 용어 | 전체 이름 | 설명 | 역할 |
|------|------------|------|------|
| **RAM** | Random Access Memory | 컴퓨터의 주 기억장치 | 실행 중인 프로그램의 명령어와 데이터를 저장함 |
| **PC** | Program Counter | 프로그램 카운터 | 다음에 실행할 명령어의 주소를 기억함 |
| **IR** | Instruction Register | 명령어 레지스터 | 현재 실행 중인 명령어를 저장함 |
| **Register** | 레지스터 | CPU 내부의 고속 저장소 | 연산 중 임시로 값을 저장함 |
| **ALU** | Arithmetic Logic Unit | 산술 논리 유닛 | 덧셈, 뺄셈, 논리 연산 등을 수행함 |
| **Bus** | 버스 | CPU와 RAM을 연결하는 통로 | 데이터, 주소, 명령어가 오고감 |

---

## 5. 예시로 이해해보기

```assembly
LOAD R1, 1000     ; 메모리 주소 1000에서 값을 읽어 R1에 저장
LOAD R2, 1004     ; 메모리 주소 1004에서 값을 읽어 R2에 저장
ADD R3, R1, R2    ; R1과 R2를 더해서 R3에 저장
STORE R3, 1008    ; R3의 값을 1008에 저장
```

실행 흐름:
- PC가 첫 줄 명령어 주소(0x0000)를 가리킴 → Fetch
- IR에 "LOAD R1, 1000" 저장 → Decode → Execute
- PC가 다음 주소(0x0004)로 이동 → 반복

---

## 요약

> CPU는 RAM에 저장된 명령어를 PC를 통해 하나씩 가져오고(IR에 저장), 이를 해석한 뒤(ALU와 레지스터 등을 사용해) 실행합니다. 이 과정을 Fetch-Decode-Execute 사이클이라고 하며, 명령어의 흐름과 데이터는 버스를 통해 이동하며 처리됩니다.

