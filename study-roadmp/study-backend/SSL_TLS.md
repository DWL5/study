# SSLκ³Ό TLSλ€?

## κ°μ”

`SSL(Secure Sockets Layer)`κ³Ό `TLS(Transport Layer Security)`λ”  
μ›Ή λΈλΌμ°μ €μ™€ μ„λ²„ κ°„μ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ **μ•μ „ν•κ² ν†µμ‹ **ν•  μ μλ„λ΅ λ„μ™€μ£Όλ” λ³΄μ• ν”„λ΅ν† μ½μ΄λ‹¤.

μ΄λ“¤μ€ λ„¤νΈμ›ν¬ μƒμ—μ„ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  λ• **λ„μ²­, μ„μ΅°, λ³€μ΅°λ¥Ό λ°©μ§€**ν•κΈ° μ„ν•΄ μ‚¬μ©λλ‹¤.  
**HTTPSλ” HTTP μ„μ— TLSλ¥Ό μ–Ήμ€ ν”„λ΅ν† μ½**μ΄λ©°, μ›Ήμ—μ„ κ°€μ¥ μΌλ°μ μΌλ΅ μ‚¬μ©λλ” ν•νƒλ‹¤.

> HTTPSλ” μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµκ³Ό μ „μ†΅ κ³„μΈµμ‚¬μ΄μ— μ‹ λΆ° κ³„μΈµμΈ SSL/TLS κ³„μΈµμ„ λ„£μ€ μ‹ λΆ°ν•  μ μλ” HTTP μ”μ²­
---

## SSLκ³Ό TLSμ μ°¨μ΄μ 

| ν•­λ© | SSL | TLS |
|------|-----|-----|
| κ°λ° μ‹κΈ° | 1990λ…„λ€ (Netscape) | 1999λ…„ IETF ν‘μ¤€ν™” |
| λ³΄μ•μ„± | μ—¬λ¬ λ³΄μ• μ·¨μ•½μ  μ΅΄μ¬ | SSLλ³΄λ‹¤ κ°•λ ¥ν• λ³΄μ• |
| μ‚¬μ© ν„ν™© | λ” μ΄μƒ μ‚¬μ©λμ§€ μ•μ | ν„μ¬ ν‘μ¤€ (TLS 1.2, TLS 1.3) |
| μμ‹ ν‘ν„ | "SSL μΈμ¦μ„"λ΅ ν‘ν„λλ” κ²½μ°κ°€ λ§μ§€λ§ μ‹¤μ λ΅λ” TLS μ‚¬μ© | μ‹¤μ λ΅ μ‚¬μ©ν•λ” ν”„λ΅ν† μ½ |

---

## μ‘λ™ λ°©μ‹ (ν•Έλ“μ…°μ΄ν¬ κ³Όμ • ν¬ν•¨)

SSL/TLSλ” λ³΄μ• μ„Έμ…μ„ κΈ°λ°μΌλ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ©° λ³΄μ• μ„Έμ…μ΄ λ§λ“¤μ–΄μ§ λ• μΈμ¦ λ©”μ»¤λ‹μ¦, ν‚¤ κµν™ μ•”νΈν™” μ•κ³ λ¦¬μ¦, ν•΄μ‹± μ•κ³ λ¦¬μ¦μ΄ μ‚¬μ©λ¨

### 1. ν΄λΌμ΄μ–ΈνΈ Hello
- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘μ† μ”μ²­μ„ λ³΄λƒ„
- μ§€μ›ν•λ” TLS λ²„μ „, μ•”νΈν™” λ°©μ‹(cipher suite), λλ¤κ°’ λ“±μ„ ν¬ν•¨

### 2. μ„λ²„ Hello
- μ„λ²„κ°€ μ‘λ‹µν•λ©°, TLS λ²„μ „ λ° μ•”νΈν™” λ°©μ‹ μ„ νƒ
- μ„λ²„ μΈμ¦μ„(κ³µκ°ν‚¤ ν¬ν•¨) μ „λ‹¬
- μ„Έμ… ID, λλ¤κ°’ ν¬ν•¨

### 3. μ„λ²„ μΈμ¦
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ μΈμ¦μ„λ¥Ό κ²€μ¦ν•¨ (μ‹ λΆ°λ μΈμ¦κΈ°κ΄€μΈμ§€ λ“±)

### 4. ν‚¤ κµν™
- ν΄λΌμ΄μ–ΈνΈλ” Pre-Master Secret(μ„μ‹ ν‚¤)μ„ μƒμ„± ν›„, μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μ„λ²„μ— μ „λ‹¬
- μ„λ²„λ” μ΄λ¥Ό λ³µνΈν™”ν•μ—¬ μ„Έμ… ν‚¤λ¥Ό μƒμ„±

### 5. μ„Έμ… ν‚¤ μƒμ„±
- μ–‘μΈ΅μ΄ κ°™μ€ μ„Έμ… ν‚¤λ¥Ό λ³΄μ ν•κ² λλ©°, μ΄ν›„ ν†µμ‹ μ€ μ΄ ν‚¤λ΅ μ•”νΈν™”λ¨

### 6. ν•Έλ“μ…°μ΄ν¬ μ™„λ£
- λ¨λ“  μ„¤μ •μ΄ μ™„λ£λμ—μμ„ ν™•μΈν•κ³ , μ•”νΈν™”λ μ• ν”λ¦¬μΌ€μ΄μ… λ°μ΄ν„° ν†µμ‹ μ΄ μ‹μ‘λ¨

---

## λ³΄μ• νΉμ§•

- **κΈ°λ°€μ„± (Confidentiality)**: μ „μ†΅λλ” λ°μ΄ν„°λ” μ•”νΈν™”λμ–΄ μμ–΄ μ 3μκ°€ λ³Ό μ μ—†μ
- **λ¬΄κ²°μ„± (Integrity)**: λ°μ΄ν„°κ°€ λ„μ¤‘μ— λ³€μ΅°λμ§€ μ•μ•μμ„ λ³΄μ¥
- **μΈμ¦ (Authentication)**: μ„λ²„(λλ” ν΄λΌμ΄μ–ΈνΈ)μ μ‹ μ›μ„ ν™•μΈν•  μ μμ

---

## μ‹¤μƒν™ μμ‹

- λΈλΌμ°μ € μ£Όμ†μ°½μ— π”’ μλ¬Όμ‡  ν‘μ‹ = TLS μ•”νΈν™” μ μ©
- HTTPS μ ‘μ† μ‹ μ‹¤μ λ΅λ” TLS ν”„λ΅ν† μ½μ„ ν†µν•΄ ν†µμ‹  μ¤‘
- μ „μκ²°μ , λ΅κ·ΈμΈ, μ΄λ©”μΌ μ†΅μμ‹  λ“±μ—μ„ ν•„μμ μΌλ΅ μ‚¬μ©

---

## μ”μ•½

> **SSLμ€ κ³Όκ±°μ— μ‚¬μ©λλ μ•”νΈν™” ν”„λ΅ν† μ½μ΄κ³ , TLSλ” ν„μ¬ μ‚¬μ©λλ” μ—…κ·Έλ μ΄λ“λ ν‘μ¤€ ν”„λ΅ν† μ½μ΄λ‹¤.**  
> μ¤λλ‚ μ HTTPS ν†µμ‹ μ€ λ¨λ‘ TLS κΈ°λ°μΌλ΅ λ™μ‘ν•λ©°, μ‚¬μ©μμ μ •λ³΄λ¥Ό μ•μ „ν•κ² λ³΄νΈν•λ” ν•µμ‹¬ μ—­ν• μ„ ν•λ‹¤.

# CA (Certificate Authority)μ™€ μΈμ¦μ„ λ°κΈ‰ κ³Όμ •

## CAλ€?

**CA(Certificate Authority, μΈμ¦ κΈ°κ΄€)**λ”  
μΈν„°λ„·μ—μ„ μ‹ μ›μ„ μ¦λ…ν•΄μ£Όλ” **κ³µμ‹μ μΈ μΈμ¦μ„ λ°κΈ‰ κΈ°κ΄€**μ΄λ‹¤.  

λΈλΌμ°μ €λ‚ μ΄μμ²΄μ λ” **μ‹ λΆ°ν•  μ μλ” CA λ©λ΅**μ„ λ‚΄μ¥ν•κ³  μμΌλ©°,  
μ΄ λ©λ΅μ— λ“±λ΅λ κΈ°κ΄€μ΄ λ°κΈ‰ν• μΈμ¦μ„λ¥Ό μ‹ λΆ°ν•λ‹¤.

---

## μΈμ¦μ„ λ°κΈ‰ λ©μ 

- μ›Ήμ‚¬μ΄νΈμ **μ‹ μ›μ„ λ³΄μ¥**ν•κ³ 
- TLS ν†µμ‹ μ„ μ„ν• **κ³µκ°ν‚¤ κΈ°λ° μ•”νΈν™” μ²΄κ³„(PKI)**λ¥Ό κ°€λ¥ν•κ² ν•¨

---

## μΈμ¦μ„ λ°κΈ‰ νλ¦„

### 1. κ³µκ°ν‚¤/κ°μΈν‚¤ μƒμ„± (μ„λ²„ μΈ΅)
- μ›Ή μ„λ²„ κ΄€λ¦¬μκ°€ **κ³µκ°ν‚¤μ™€ κ°μΈν‚¤ μ**μ„ μƒμ„±

### 2. CSR μƒμ„± (Certificate Signing Request)
- κ³µκ°ν‚¤, λ„λ©”μΈ μ •λ³΄, μ΅°μ§ μ •λ³΄ λ“±μ„ λ‹΄μ€ μ”μ²­ νμΌ
- μ΄ CSRμ„ CAμ—κ² μ μ¶

### 3. CAκ°€ μ”μ²­ κ²€μ¦
- CAλ” **λ„λ©”μΈ μ†μ μ μΈμ¦(DNS, μ΄λ©”μΌ λ“±)** λλ” **κΈ°μ—… μΈμ¦**μ„ ν†µν•΄ μ”μ²­μ μ‹ μ› ν™•μΈ

### 4. μΈμ¦μ„ λ°κΈ‰
- CAλ” μ”μ²­μ΄ ν•©λ‹Ήν•λ‹¤κ³  νλ‹¨λλ©΄, **μΈμ¦μ„μ— μ „μμ„λ…ν•μ—¬ λ°κΈ‰**
- μ΄ μΈμ¦μ„μ—λ” **κ³µκ°ν‚¤, μ ν¨ κΈ°κ°„, λ„λ©”μΈ, CA μ„λ… λ“±**μ΄ ν¬ν•¨λ¨

### 5. μ„λ²„μ— μΈμ¦μ„ μ„¤μΉ
- λ°κΈ‰λ°›μ€ μΈμ¦μ„λ¥Ό μ›Ή μ„λ²„μ— μ„¤μΉ
- μ΄ν›„ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ† μ‹ μ΄ μΈμ¦μ„λ΅ TLS ν•Έλ“μ…°μ΄ν¬ μν–‰

---

## μΈμ¦μ„ κµ¬μ„± μ”μ†

- κ³µκ°ν‚¤
- λ„λ©”μΈ μ΄λ¦„
- μ ν¨ κΈ°κ°„ (λ§λ£μΌ)
- CAμ λ””μ§€ν„Έ μ„λ…
- λ°κΈ‰ λ€μƒ μ •λ³΄ (νμ‚¬ μ΄λ¦„ λ“±)

---

## μΈμ¦μ„ μ‹ λΆ° μ²΄κ³„ (μ²΄μΈ κµ¬μ΅°)

1. **μ„λ²„ μΈμ¦μ„**
2. **μ¤‘κ°„ μΈμ¦μ„(Intermediate CA)** β€“ λ³΄ν†µ λ£¨νΈ CA λ€μ‹  μ„λ…
3. **λ£¨νΈ μΈμ¦μ„(Root CA)** β€“ λΈλΌμ°μ €/OSμ— λ‚΄μ¥λ μ‹ λΆ°κΈ°κ΄€

> μΈμ¦μ„ μ²΄μΈμ€ λ£¨νΈκΉμ§€ μ΄μ–΄μ Έμ•Ό λΈλΌμ°μ €κ°€ "μ•μ „ν•¨"μΌλ΅ μΈμ‹ν•¨

---

## λ¬΄λ£ μΈμ¦μ„ λ°κΈ‰ μ

- [Let's Encrypt](https://letsencrypt.org/)
- μλ™ν™”λ λ°©μ‹μΌλ΅ λΉ λ¥΄κ² μΈμ¦μ„ λ°κΈ‰ κ°€λ¥ (μ ν¨κΈ°κ°„ 90μΌ)

---

# TLS ν•Έλ“μ…°μ΄ν¬ μ‘λ™ λ°©μ‹ (μƒμ„Έ μμ‹)

## κ°μ”

**SSL/TLS**λ” λ³΄μ• μ„Έμ…μ„ κΈ°λ°μΌλ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ©°,  
λ³΄μ• μ„Έμ…μ΄ λ§λ“¤μ–΄μ§ λ• **μΈμ¦ λ©”μ»¤λ‹μ¦, ν‚¤ κµν™ μ•κ³ λ¦¬μ¦, ν•΄μ‹± μ•κ³ λ¦¬μ¦**μ΄ μ‚¬μ©λλ‹¤.

μ΄ λ¬Έμ„λ” **TLS 1.2 κΈ°μ¤€ ν•Έλ“μ…°μ΄ν¬ μ‘λ™ λ°©μ‹**μ„ μμ‹μ™€ ν•¨κ» λ‹¨κ³„λ³„λ΅ μ •λ¦¬ν•λ‹¤.

---

## μ‹λ‚λ¦¬μ¤ μμ‹

- μ‚¬μ©μκ°€ λΈλΌμ°μ €μ—μ„ `https://example.com` μ ‘μ†
- μ„λ²„λ” Let's Encrypt μΈμ¦μ„λ¥Ό μ‚¬μ©
- ν†µμ‹ μ€ TLS 1.2λ΅ μν–‰

---

## ν•Έλ“μ…°μ΄ν¬ λ‹¨κ³„λ³„ νλ¦„

### 1. ν΄λΌμ΄μ–ΈνΈ Hello

```plaintext
Client Hello:
  - μ§€μ› TLS λ²„μ „: TLS 1.0, 1.1, 1.2
  - μ§€μ› Cipher Suites: TLS_RSA_WITH_AES_128_CBC_SHA, ...
  - ν΄λΌμ΄μ–ΈνΈ λλ¤κ°’
  - SNI: example.com
```

> λΈλΌμ°μ €λ” μ„λ²„μ—κ² μ–΄λ–¤ λ³΄μ• μ„¤μ •μ„ μ§€μ›ν•λ”μ§€ μ•λ¦Ό

---

### 2. μ„λ²„ Hello

```plaintext
Server Hello:
  - μ„ νƒ TLS λ²„μ „: TLS 1.2
  - μ„ νƒ Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
  - μ„λ²„ λλ¤κ°’
  - μ„λ²„ μΈμ¦μ„ (κ³µκ°ν‚¤ ν¬ν•¨)
```

> μ„λ²„λ” μ„ νƒν• μ„¤μ •κ³Ό ν•¨κ» μΈμ¦μ„λ¥Ό μ „λ‹¬

---

### 3. μ„λ²„ μΈμ¦μ„ κ²€μ¦ (ν΄λΌμ΄μ–ΈνΈ μΈ΅)

λΈλΌμ°μ €λ” μ„λ²„κ°€ λ³΄λ‚Έ μΈμ¦μ„λ¥Ό λ‹¤μ κΈ°μ¤€μΌλ΅ κ²€μ¦:

- λ„λ©”μΈ μΌμΉ μ—¬λ¶€ (CN, SAN)
- μ ν¨ κΈ°κ°„ ν™•μΈ
- μ‹ λΆ°λ λ£¨νΈ CAλ¥Ό ν†µν•΄ μ²΄μΈ κ²€μ¦
- OCSP/CRLλ΅ μΈμ¦μ„ νκΈ° μ—¬λ¶€ ν™•μΈ

---

### 4. ν‚¤ κµν™

ν΄λΌμ΄μ–ΈνΈλ” Pre-Master Secretμ„ μƒμ„±ν•κ³ , μ„λ²„ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μ „μ†΅

```plaintext
Client Key Exchange:
  - μ•”νΈν™”λ Pre-Master Secret ν¬ν•¨
```

μ„λ²„λ” μμ‹ μ κ°μΈν‚¤λ΅ μ΄λ¥Ό λ³µνΈν™”ν•¨

---

### 5. μ„Έμ… ν‚¤ μƒμ„±

ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” λ‹¤μμ„ κΈ°λ°μΌλ΅ λ™μΌν• μ„Έμ… ν‚¤λ¥Ό μƒμ„±:

- Pre-Master Secret
- ν΄λΌμ΄μ–ΈνΈ λλ¤κ°’
- μ„λ²„ λλ¤κ°’

νμƒλ ν‚¤ μμ‹:

```plaintext
- client_write_key, server_write_key
- client_write_MAC_key, server_write_MAC_key
```

---

### 6. ChangeCipherSpec + Finished

```plaintext
ν΄λΌμ΄μ–ΈνΈ:
  - ChangeCipherSpec (μ•”νΈν™” μ‹μ‘ μ„ μ–Έ)
  - Finished (μ•”νΈν™”λ ν•Έλ“μ…°μ΄ν¬ μ™„λ£ μ •λ³΄)

μ„λ²„:
  - ChangeCipherSpec
  - Finished
```

> μ–‘μΈ΅μ΄ μ„Έμ… ν‚¤κ°€ λ™μΌν•¨μ„ μ„λ΅ κ²€μ¦

---

### 7. μ• ν”λ¦¬μΌ€μ΄μ… λ°μ΄ν„° μ „μ†΅

μ΄μ  λ¨λ“  ν†µμ‹ μ€ μ„Έμ… ν‚¤λ΅ μ•”νΈν™”λ μƒνƒμ—μ„ μ΄λ£¨μ–΄μ§:

- GET / μ”μ²­ β†’ μ•”νΈν™”λ HTTP μ”μ²­
- HTML, JSON μ‘λ‹µ β†’ μ•”νΈν™”λ μ½ν…μΈ 

---

## μ”μ•½ ν…μ΄λΈ”

| λ‹¨κ³„ | μ„¤λ… |
|------|------|
| 1 | ν΄λΌμ΄μ–ΈνΈκ°€ μ§€μ› λ²„μ „/μ•”νΈν™” λ©λ΅ μ „μ†΅ |
| 2 | μ„λ²„κ°€ μ„¤μ • μ„ νƒ λ° μΈμ¦μ„ μ „λ‹¬ |
| 3 | ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦μ„ κ²€μ¦ |
| 4 | ν΄λΌμ΄μ–ΈνΈκ°€ Pre-Master Secret μ „μ†΅ |
| 5 | μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ„Έμ… ν‚¤ μƒμ„± |
| 6 | μ–‘μΈ΅ μ•”νΈν™” λ¨λ“ μ§„μ… λ° ν™•μΈ |
| 7 | μ‹¤μ  HTTPS ν†µμ‹  μ‹μ‘ (μ•”νΈν™”λ λ°μ΄ν„° κµν™) |


## μ”μ•½

> CAλ” μ‹ λΆ° κΈ°λ° μ›Ή λ³΄μ•μ„ κ°€λ¥ν•κ² ν•λ” μΈμ¦ κΈ°κ΄€μ΄λ©°,  
> μΈμ¦μ„ λ°κΈ‰μ€ κ³µκ°ν‚¤λ¥Ό κΈ°λ°μΌλ΅ λ„λ©”μΈ μ†μ λ¥Ό κ²€μ¦ν•κ³  CAκ°€ μ„λ…ν•λ” κ³Όμ •μ„ ν†µν•΄ μ΄λ£¨μ–΄μ§„λ‹¤.
